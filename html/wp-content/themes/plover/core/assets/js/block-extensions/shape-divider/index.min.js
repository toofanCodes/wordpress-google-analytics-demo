(()=>{"use strict";var e,t={737:()=>{const e=window.React,t=window.wp.hooks,o=window.wp.compose;function r(e){var t,o,l="";if("string"==typeof e||"number"==typeof e)l+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(o=r(e[t]))&&(l&&(l+=" "),l+=o)}else for(o in e)e[o]&&(l&&(l+=" "),l+=o);return l}const l=function(){for(var e,t,o=0,l="",a=arguments.length;o<a;o++)(e=arguments[o])&&(t=r(e))&&(l&&(l+=" "),l+=t);return l},a=window.plover.utils;function n(e=null){const t=(0,a.getExtensionSetting)("shapeDivider","shapes",{});if("none"!==e)return null===e?t:t[e]}const i=window.wp.element,s=window.plover.data;function p({shapeData:t,attributes:o}){const{invertShape:r,flipShape:l,shapePosition:n}=o,p=(0,i.useRef)(),[c]=(0,s.useDeviceType)(),h=(0,i.useMemo)((()=>{var e,t,r,l;const n=(0,a.getScalarValueByDevice)(null!==(e=o?.shapeWidth)&&void 0!==e?e:"100%",c),i=(0,a.getScalarValueByDevice)(null!==(t=o?.shapeHeight)&&void 0!==t?t:"50px",c),s=Number(null!==(r=o?.shapeZIndex)&&void 0!==r?r:9),p=null!==(l=o?.shapeColor)&&void 0!==l?l:"#ffffff",h={"--plover-shape-width":n,"--plover-shape-height":i};return isNaN(s)||(h["--plover-shape-z-index"]=s),p&&(h["--plover-shape-color"]=p),Object.keys(h).map((e=>`${e}:${h[e]};`)).join("")}),[c,o]);return(0,i.useEffect)((()=>{if(!p?.current)return;const e=(0,a.findElementFromCurrent)(p?.current,"plover-shape-divider__block");if(!e)return;const o=r&&-1!==t.options.indexOf("shape_invert"),i=l&&-1!==t.options.indexOf("shape_flip"),s=t.files[o?"negative":"svg"];if(!s)return;const c=document.createElement("div");return c.className="plover-shape-divider",c.dataset.position=n,c.dataset.negative=o?"true":"false",c.dataset.flip=i?"true":"false",c.style=h,c.innerHTML=s,e.appendChild(c),()=>{c.remove()}}),[p,h,t,r,l,n]),(0,e.createElement)("span",{ref:p,"data-role":"plover-indicator",className:"plover-shape-divider__editor-indicator"})}function c({attributes:t}){const{shapeDivider:o}=t,r=n(o);return!r||!r?.files||Object.keys(r?.files)<=0?null:(0,e.createElement)(p,{shapeData:r,attributes:t})}const h=window.wp.blockEditor,v=window.wp.components,d=window.wp.i18n,u=window.plover.components;function m({value:t,onChange:o}){const r=n();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"plover-shapes-selector"},Object.keys(r).map((a=>{const n=r[a];return"none"===a?(0,e.createElement)("div",{key:a,onClick:()=>o("none"),className:l("plover-shape-preview plover-shape-preview-none",{active:a===t})},(0,d.__)("None","plover")):Object.keys(n.files).length<=0||!n.files.svg?null:(0,e.createElement)("div",{key:a,onClick:()=>{o(a)},className:l("plover-shape-preview",{active:a===t}),dangerouslySetInnerHTML:{__html:n.files.svg}})}))))}function _({attributes:t,setAttributes:o}){const{shapeDivider:r,shapePosition:l,shapeColor:a,flipShape:i,invertShape:s,shapeWidth:p,shapeHeight:c,shapeZIndex:h}=t,m=n(r);return m?(0,e.createElement)(v.__experimentalToolsPanel,{resetAll:()=>{o({shapePosition:"bottom",shapeColor:void 0,flipShape:void 0,invertShape:void 0,shapeWidth:void 0,shapeHeight:void 0,shapeZIndex:void 0})},label:(0,d.__)("Shape options","plover"),className:"plover-shape-options__panel"},-1!==m.options.indexOf("shape_flip")&&(0,e.createElement)(v.__experimentalToolsPanelItem,{label:(0,d.__)("Flip shape","plover"),hasValue:()=>void 0!==i,onDeselect:()=>{o({flipShape:void 0})}},(0,e.createElement)(v.ToggleControl,{label:(0,d.__)("Enable flip","plover"),checked:!!i,onChange:e=>{o({flipShape:e})}})),-1!==m.options.indexOf("shape_invert")&&(0,e.createElement)(v.__experimentalToolsPanelItem,{label:(0,d.__)("Invert shape","plover"),hasValue:()=>void 0!==s,onDeselect:()=>{o({invertShape:void 0})}},(0,e.createElement)(v.ToggleControl,{label:(0,d.__)("Enable invert","plover"),checked:!!s,onChange:e=>{o({invertShape:e})}})),(0,e.createElement)(v.__experimentalToolsPanelItem,{label:(0,d.__)("Shape color","plover"),hasValue:()=>void 0!==a,onDeselect:()=>{o({shapeColor:void 0})},isShownByDefault:!0},(0,e.createElement)(u.ColorPopover,{label:(0,d.__)("Shape color","plover"),hasBorder:!0,excludePresets:["transparent"],value:a,enableAlpha:!0,onChange:e=>{o({shapeColor:e})}})),(0,e.createElement)(v.__experimentalToolsPanelItem,{label:(0,d.__)("Shape position","plover"),hasValue:()=>"bottom"!==l,onDeselect:()=>{o({shapePosition:"bottom"})},isShownByDefault:!0},(0,e.createElement)(u.ToggleGroup,{label:(0,d.__)("Position","plover"),value:l,onChange:e=>{o({shapePosition:e})},options:[{label:(0,d.__)("Top","plover"),value:"top"},{label:(0,d.__)("Bottom","plover"),value:"bottom"}]})),(0,e.createElement)(v.__experimentalToolsPanelItem,{label:(0,d.__)("Shape width","plover"),hasValue:()=>void 0!==p,onDeselect:()=>{o({shapeWidth:void 0})}},(0,e.createElement)(u.ResponsiveControl,{title:(0,d.__)("Shape width","plover"),Component:u.UnitSlider,value:p,onChange:e=>{o({shapeWidth:e})},controlProps:{defaultUnit:"%",min:0}})),(0,e.createElement)(v.__experimentalToolsPanelItem,{label:(0,d.__)("Shape height","plover"),hasValue:()=>void 0!==c,onDeselect:()=>{o({shapeHeight:void 0})}},(0,e.createElement)(u.ResponsiveControl,{title:(0,d.__)("Shape height","plover"),Component:u.UnitSlider,value:c,onChange:e=>{o({shapeHeight:e})},controlProps:{min:0}})),(0,e.createElement)(v.__experimentalToolsPanelItem,{label:(0,d.__)("Shape Z-Index","plover"),hasValue:()=>void 0!==h,onDeselect:()=>{o({shapeZIndex:void 0})}},(0,e.createElement)(v.__experimentalNumberControl,{label:(0,d.__)("Shape Z-Index","plover"),value:h,step:1,onChange:e=>{o({shapeZIndex:Number(e)})}}))):null}function f({attributes:t,setAttributes:o}){const{shapeDivider:r}=t;return(0,e.createElement)(h.InspectorControls,null,(0,e.createElement)(v.PanelBody,{title:(0,d.__)("Plover: Shape Divider","plover")},(0,e.createElement)(m,{value:r,onChange:e=>{o({shapeDivider:e})}}),!(0,a.is_premium)()&&(0,e.createElement)(u.Tips,null,(0,e.createElement)("p",{dangerouslySetInnerHTML:{__html:(0,d.sprintf)(/* translators: %s is the premium text and link. */ /* translators: %s is the premium text and link. */
(0,d.__)("Upgrade to %s to unlock 25+ premium shapes.","plover"),'<a href="'+(0,a.upsell_url)()+'" target="_blank">'+(0,d.__)("Premium","plover")+"</a>")}}),(0,e.createElement)("a",{href:(0,a.upsell_url)(),target:"_blank"},(0,d.__)("Upgrade Now â†—","plover"))),(0,e.createElement)(_,{attributes:t,setAttributes:o})))}(0,t.addFilter)("blocks.registerBlockType","plover/shape-divider-attributes",((e,t)=>["core/cover"].includes(t)?(e.attributes={...e.attributes,shapeDivider:{type:"string",default:"none"},shapePosition:{type:"string",default:"bottom"},shapeColor:{type:"string"},flipShape:{type:"boolean"},invertShape:{type:"boolean"},shapeWidth:{type:"object"},shapeHeight:{type:"object"},shapeZIndex:{type:"number"}},e):e)),(0,t.addFilter)("editor.BlockListBlock","plover/with-shape-divider-classname",(0,o.createHigherOrderComponent)((t=>o=>{const{name:r}=o;if(!["core/cover"].includes(r))return(0,e.createElement)(t,{...o});const a={...o?.wrapperProps,className:l(o?.wrapperProps?.className,"plover-shape-divider__block")};return(0,e.createElement)(t,{...o,wrapperProps:a})}),"withParticlesClassName")),(0,t.addFilter)("editor.BlockEdit","plover/shape-divider-preview-and-controls",(t=>o=>{const{name:r,isSelected:l,attributes:a,setAttributes:i}=o;if(["core/cover"].includes(r)){const r=n(a?.shapeDivider);return(0,e.createElement)(e.Fragment,null,r?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,{...o}),(0,e.createElement)(c,{...o})):(0,e.createElement)(t,{...o}),l&&(0,e.createElement)(f,{attributes:a,setAttributes:i}))}return(0,e.createElement)(t,{...o})}))}},o={};function r(e){var l=o[e];if(void 0!==l)return l.exports;var a=o[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,e=[],r.O=(t,o,l,a)=>{if(!o){var n=1/0;for(c=0;c<e.length;c++){o=e[c][0],l=e[c][1],a=e[c][2];for(var i=!0,s=0;s<o.length;s++)(!1&a||n>=a)&&Object.keys(r.O).every((e=>r.O[e](o[s])))?o.splice(s--,1):(i=!1,a<n&&(n=a));if(i){e.splice(c--,1);var p=l();void 0!==p&&(t=p)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,l,a]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={457:0,332:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var l,a,n=o[0],i=o[1],s=o[2],p=0;if(n.some((t=>0!==e[t]))){for(l in i)r.o(i,l)&&(r.m[l]=i[l]);if(s)var c=s(r)}for(t&&t(o);p<n.length;p++)a=n[p],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},o=self.webpackChunkplover_core=self.webpackChunkplover_core||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=r.O(void 0,[332],(()=>r(737)));l=r.O(l)})();