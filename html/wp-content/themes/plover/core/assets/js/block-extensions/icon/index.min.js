(()=>{"use strict";var e,t={169:(e,t,n)=>{const o=window.React,r=window.wp.hooks,l=window.wp.compose,i=window.wp.data,a=window.wp.blocks,c=window.wp.domReady;var s=n.n(c);const u=window.wp.i18n;function p(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=p(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}const g=function(){for(var e,t,n=0,o="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=p(e))&&(o&&(o+=" "),o+=t);return o},m=window.plover.utils,v=window.wp.blockEditor,d=window.wp.components,b=window.wp.element,h=window.plover.components;function _(e,t){return"number"==typeof e||"number"==typeof t?Number(e)===Number(t):e===t}function f({current:e,icons:t,onChange:n}){const[r,l]=(0,b.useState)(""),i=t.filter((({tags:e,slug:t,name:n})=>""===r.trim()||((null!=e?e:[]).join("")+t+n).toLowerCase().includes(r.trim().toLowerCase())));return(0,o.createElement)(d.__experimentalDropdownContentWrapper,{paddingSize:"none",className:"plover-icon-settings-panel__popover-content"},(0,o.createElement)(d.__experimentalVStack,{spacing:"12px"},(0,o.createElement)(d.TextControl,{label:(0,u.__)("Filter","plover"),value:r,onChange:l}),(0,o.createElement)("div",{className:"plover-icon-settings-panel__icon-list",style:{width:"300px",height:"240px"}},(0,o.createElement)(h.AutoSizer,null,(({width:t,height:r})=>{const l=Math.floor((t-16)/5),a=l,c=l;return(0,o.createElement)(h.FixedSizeGrid,{itemData:i,columnCount:5,columnWidth:a,rowCount:Math.ceil(i.length/5),rowHeight:c,height:r,width:t},(({columnIndex:t,rowIndex:r,style:l})=>{const a=i[5*r+t];return a?(0,o.createElement)("div",{style:l,className:"plover-icon-settings-panel__icon-preview-wrap"},(0,o.createElement)("button",{"aria-label":a.name,className:g({"plover-icon-settings-panel__icon-preview":!0,active:_(e,a.slug)}),dangerouslySetInnerHTML:{__html:a.svg},onClick:()=>{n({icon:String(a.slug),svg:a.svg})}})):null}))}))),i.length<=0&&(0,o.createElement)("p",{className:"plover-icon-settings-panel__no-result"},(0,u.__)("No icons","plover"))))}function S({attributes:e,setAttributes:t}){var n,r;const{iconSlug:l,iconSvgString:a,iconLibrary:c}=e,[s,p]=(0,b.useState)(!1),[g,v]=(0,b.useState)([]),S=(0,m.getExtensionSetting)("icon","libraries",{}),w=null!==(n=S.find((({slug:e})=>_(e,c))))&&void 0!==n?n:{},y=g.find((({slug:e})=>_(e,l)));return(0,b.useEffect)((()=>{w?.slug&&"none"!==w?.slug?(p(!0),(0,i.resolveSelect)("plover/icons").getIcons(w?.slug).then((({library:e,icons:t})=>{_(e,c)&&v(null!=t?t:[])})).finally((()=>{p(!1)}))):v([])}),[c]),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(d.SelectControl,{label:(0,u.__)("Icon library","plover"),value:null!==(r=w?.slug)&&void 0!==r?r:"none",options:[{label:"None",value:"none"},...S.map((({name:e,slug:t})=>({label:e,value:t})))],onChange:e=>{t({iconLibrary:"none"===e?null:e,iconSlug:null,iconSvgString:null})}}),(0,o.createElement)(d.BaseControl,{label:(0,u.__)("Select icon","plover")},s?(0,o.createElement)("div",null,(0,o.createElement)(d.Spinner,null)):(0,o.createElement)(h.Popover,{className:"plover-icon-settings-panel__icon-picker",toggle:{icon:w?.slug?a:"",label:w?.name?w?.name+" / "+(y?(0,m.titleCase)(y?.name):(0,u.__)("None","plover")):(0,u.__)("None","plover")},renderContent:()=>(0,o.createElement)(f,{current:l,icons:g,onChange:({icon:e,svg:n})=>{t({iconSlug:e,iconSvgString:n})}})})))}function w({attributes:e,setAttributes:t,position:n=!0,clear:r=!0}){return(0,o.createElement)(v.InspectorControls,null,(0,o.createElement)(d.PanelBody,{title:(0,u.__)("Icon","plover"),className:"block-editor-plover-inspector__icons"},(0,o.createElement)(S,{attributes:e,setAttributes:t}),(0,o.createElement)(h.Tips,null,(0,o.createElement)("p",null,(0,o.createElement)("span",{dangerouslySetInnerHTML:{__html:(0,u.sprintf)(/* translators: %s is the plover kit plugin name */ /* translators: %s is the plover kit plugin name */
(0,u.__)("Use the %s plugin to get more icons from the Icon Library.","plover"),'<a href="https://wpplover.com/plugins/plover-kit/" target="_blank">'+(0,u.__)("Plover Kit","plover")+"</a>")}}),(0,o.createElement)("a",{href:"https://wpplover.com/docs/plover-kit/modules/icon-library/",target:"_blank"},(0,u.__)("Documentation â†—","plover")))),n&&(0,o.createElement)(d.__experimentalToggleGroupControl,{isBlock:!0,label:(0,u.__)("Icon position","plover"),value:e.iconPosition,onChange:e=>{t({iconPosition:e})}},(0,o.createElement)(d.__experimentalToggleGroupControlOption,{value:"left",label:(0,u.__)("Left","plover")}),(0,o.createElement)(d.__experimentalToggleGroupControlOption,{value:"right",label:(0,u.__)("Right","plover")})),(0,o.createElement)(h.UnitSlider,{label:(0,u.__)("Icon Size","plover"),value:e.iconSize,min:10,onChange:e=>{t({iconSize:e})}}),r&&(0,o.createElement)(d.Button,{variant:"tertiary",onClick:()=>{t({iconLibrary:null,iconSlug:null,iconSvgString:null})}},(0,u.__)("Clear icon","plover"))))}function y(e){if("string"!=typeof e)return e;const t=(new DOMParser).parseFromString(e,"text/html");return t?.body?.firstChild?(t?.body?.firstChild?.getAttribute("fill")||t?.body?.firstChild?.setAttribute("fill","currentColor"),t?.body?.firstChild?.getAttribute("stroke")||t?.body?.firstChild?.setAttribute("stroke","currentColor"),t?.body?.innerHTML):e}function E(e){const{attributes:t,setAttributes:n,className:r,isSelected:l,isRTL:i}=e,{align:a,iconSize:c,iconSvgString:s}=t,u=(0,v.useBlockEditingMode)(),p=g(r,{[`has-text-align-${a}`]:a}),m=(0,v.useBlockProps)({className:p}),b=(0,o.createElement)(o.Fragment,null,"default"===u&&(0,o.createElement)(v.BlockControls,{group:"block"},(0,o.createElement)(v.AlignmentControl,{value:a,onChange:e=>n({align:e,dropCap:!1})})),(0,o.createElement)(w,{position:!1,clear:!1,...e,setAttributes:e=>{n(void 0===e?.iconSvgString?e:{...e,content:""})}}));let h=!1,_=!1;return"center"===a?(h=!0,_=!0):i?(h="left"===a,_="left"!==a):(_="right"===a,h="right"!==a),(0,o.createElement)(o.Fragment,null,b,(0,o.createElement)("div",{...m},(0,o.createElement)(d.ResizableBox,{enable:{bottom:!0,left:_,right:h,top:!1},lockAspectRatio:!0,showHandle:l,style:{display:"inline-block"},size:{width:c,height:c},onResizeStop:(e,t,o,r)=>{const l=parseInt(parseInt(c)+r.width,10)+"px";n({iconSize:l})}},(0,o.createElement)("span",{dangerouslySetInnerHTML:{__html:y(s)}}))))}const k=window.plover.api,C={libraries:{}},x={fetchIconsFromAPI:e=>({type:"FETCH_ICONS_FROM_API",library:e}),setIcons:(e,{icons:t})=>({type:"SET_LIBRARY_ICONS",library:e,icons:t})},I={name:"plover/icons",options:{reducer:(e=C,t)=>("SET_LIBRARY_ICONS"===t.type&&(e={...e,libraries:{...e.libraries,[t.library]:t.icons}}),e),actions:x,selectors:{getIcons:(e,t)=>{var n;return{library:t,icons:null!==(n=e.libraries[t])&&void 0!==n?n:{}}}},controls:{FETCH_ICONS_FROM_API:({library:e})=>(0,k.fetchIcons)(e)},resolvers:{*getIcons(e){const t=yield x.fetchIconsFromAPI(e);return x.setIcons(e,t)}}}};function N(e){return(0,o.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...e},(0,o.createElement)("g",null,(0,o.createElement)(d.Path,{d:"M472.208 201.712c9.271-9.037 12.544-22.3 8.544-34.613-4.001-12.313-14.445-21.118-27.257-22.979l-112.03-16.279a6.75 6.75 0 0 1-5.084-3.694L286.28 22.632c-5.729-11.61-17.331-18.822-30.278-18.822s-24.549 7.212-30.278 18.822l-50.101 101.516a6.756 6.756 0 0 1-5.085 3.694L58.51 144.12c-12.812 1.861-23.255 10.666-27.257 22.979-4.002 12.313-.728 25.576 8.544 34.613l81.065 79.019a6.755 6.755 0 0 1 1.942 5.978l-19.137 111.576c-2.188 12.761 2.958 25.414 13.432 33.024 10.474 7.612 24.102 8.595 35.56 2.572l100.201-52.679a6.751 6.751 0 0 1 6.286 0l100.202 52.679c4.984 2.62 10.377 3.915 15.744 3.914 6.97 0 13.896-2.184 19.813-6.487 10.474-7.611 15.621-20.265 13.432-33.024L389.2 286.708a6.758 6.758 0 0 1 1.942-5.978l81.066-79.018zm-109.629 89.564 19.137 111.578c.64 3.734-1.665 5.863-2.686 6.604-1.022.74-3.76 2.277-7.112.513l-100.202-52.679a33.76 33.76 0 0 0-31.424-.001l-100.201 52.678c-3.354 1.763-6.091.228-7.112-.513s-3.327-2.87-2.686-6.604l19.137-111.576a33.755 33.755 0 0 0-9.711-29.886l-81.065-79.019c-2.713-2.646-2.099-5.723-1.708-6.923.389-1.201 1.702-4.052 5.451-4.596l112.027-16.279a33.76 33.76 0 0 0 25.424-18.471l50.101-101.516c1.677-3.397 4.793-3.764 6.056-3.764 1.261 0 4.377.366 6.055 3.764v.001l50.101 101.516a33.754 33.754 0 0 0 25.422 18.471l112.029 16.279c3.749.544 5.061 3.395 5.451 4.596.39 1.201 1.005 4.279-1.709 6.923l-81.065 79.019a33.754 33.754 0 0 0-9.71 29.885zM413.783 22.625c-6.036-4.384-14.481-3.046-18.865 2.988l-14.337 19.732c-4.384 6.034-3.047 14.481 2.988 18.865a13.456 13.456 0 0 0 7.928 2.58c4.177 0 8.295-1.931 10.937-5.567l14.337-19.732c4.384-6.035 3.047-14.482-2.988-18.866zM131.36 45.265l-14.337-19.732c-4.383-6.032-12.829-7.37-18.865-2.988-6.034 4.384-7.372 12.831-2.988 18.865l14.337 19.732a13.485 13.485 0 0 0 10.939 5.569c2.753 0 5.531-.839 7.927-2.581 6.034-4.383 7.372-12.83 2.987-18.865zM49.552 306.829c-2.305-7.093-9.924-10.976-17.019-8.671l-23.197 7.538c-7.095 2.305-10.976 9.926-8.671 17.019 1.854 5.709 7.149 9.337 12.842 9.337 1.383 0 2.79-.215 4.177-.666l23.197-7.538c7.094-2.305 10.976-9.924 8.671-17.019zM256.005 456.786c-7.459 0-13.506 6.047-13.506 13.506v24.392c0 7.459 6.047 13.506 13.506 13.506 7.459 0 13.506-6.047 13.506-13.506v-24.392c0-7.46-6.046-13.506-13.506-13.506zM502.664 305.715l-23.197-7.538c-7.092-2.303-14.714 1.577-17.019 8.672-2.305 7.095 1.576 14.714 8.671 17.019l23.197 7.538a13.51 13.51 0 0 0 4.176.664c5.694 0 10.989-3.629 12.843-9.337 2.305-7.094-1.577-14.713-8.671-17.018z",fill:"currentColor"})))}const z={iconLibrary:{type:"string"},iconSlug:{type:"string"},iconPosition:{type:"string",default:"right"},iconSize:{type:"string",default:"18px"},iconSvgString:{type:"string"}};(0,r.addFilter)("blocks.registerBlockType","plover/icon-attributes",((e,t)=>((0,m.getExtensionSetting)("icon","blocks",[]).includes(t)&&(e.attributes={...e.attributes,...(0,m.getExtensionSetting)("icon","attributes",z)}),e))),(0,r.addFilter)("editor.BlockEdit","plover/icon-controls",(e=>t=>{const{name:n,attributes:r}=t;return(0,m.getExtensionSetting)("icon","blocks",[]).includes(n)?"core/paragraph"===n?r?.className?.includes("is-style-icon")?(0,o.createElement)(E,{...t}):(0,o.createElement)(e,{...t}):(0,o.createElement)(o.Fragment,null,(0,o.createElement)(e,{...t}),(0,o.createElement)(w,{...t})):(0,o.createElement)(e,{...t})}),5),(0,r.addFilter)("editor.BlockListBlock","plover/with-icon-styles",(0,l.createHigherOrderComponent)((e=>t=>{const n=(0,m.getExtensionSetting)("icon","blocks",[]),{attributes:r,name:l,clientId:i}=t,a=(0,m.getExtensionSetting)("icon","libraries",{});if(!n.includes(l))return(0,o.createElement)(e,{...t});const c=g(t?.className,{"icon-library-not-available":!a.find((({slug:e})=>_(e,r?.iconLibrary))),[`has-icon__${r?.iconSlug}`]:r?.iconSlug,[`has-icon-position__${r?.iconPosition}`]:r?.iconPosition});let s="";return r?.iconSvgString&&(s+=`--wp--custom--icon--url: url('data:image/svg+xml;utf8,${r.iconSvgString}');`,r?.iconSize&&(s+=`--wp--custom--icon--size: ${r.iconSize};`)),(0,o.createElement)(o.Fragment,null,s&&(0,o.createElement)("style",null,"#block-"+i+"{"+s+"}"),(0,o.createElement)(e,{...t,className:c}))}),"withIcon")),s()((()=>{var e;(0,m.getExtensionSetting)("icon","blocks",[]).includes("core/paragraph")&&((null!==(e=(0,a.getBlockVariations)("core/paragraph"))&&void 0!==e?e:[]).some((e=>"plover-icon"===e.name))||(0,a.registerBlockVariation)("core/paragraph",{name:"plover-icon",title:(0,u.__)("Plover: Icon","plover"),icon:N,description:(0,u.__)("Insert a SVG icon.","plover"),category:"plover-blocks",keywords:["icon","plover","svg"],attributes:{className:"is-style-icon",align:"center",iconLibrary:"plover-core",iconSlug:"star",iconSize:"24px",iconSvgString:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon"><path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"></path></svg>',content:"",style:{typography:{lineHeight:"1"}}},scope:["block","inserter","transform"],isActive:e=>e&&e?.className?.includes("is-style-icon")}))})),i.register?(0,i.register)((0,i.createReduxStore)(I.name,I.options)):(0,i.registerStore)(I.name,I.options)}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,o),l.exports}o.m=t,e=[],o.O=(t,n,r,l)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],l=e[u][2];for(var a=!0,c=0;c<n.length;c++)(!1&l||i>=l)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(a=!1,l<i&&(i=l));if(a){e.splice(u--,1);var s=r();void 0!==s&&(t=s)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[n,r,l]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={829:0,138:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,l,i=n[0],a=n[1],c=n[2],s=0;if(i.some((t=>0!==e[t]))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(c)var u=c(o)}for(t&&t(n);s<i.length;s++)l=i[s],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(u)},n=self.webpackChunkplover_core=self.webpackChunkplover_core||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[138],(()=>o(169)));r=o.O(r)})();