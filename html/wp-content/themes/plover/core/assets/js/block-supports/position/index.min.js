(()=>{"use strict";const e=window.React,o=window.wp.hooks,t=window.wp.components,l=window.wp.compose,n=window.plover.utils,r=window.plover.data,i=window.wp.blockEditor,s=window.wp.i18n,a=window.plover.components;function p({name:o,attributes:l,setAttributes:r}){if(!1===(0,n.getPloverSupport)(o,"ploverPosition"))return null;const p=(0,n.getPloverSupport)(o,"ploverPosition")?.position,c=(0,n.getPloverSupport)(o,"ploverPosition")?.zIndex;return!1===p&&!1===c?null:(0,e.createElement)(i.InspectorControls,null,(0,e.createElement)(t.PanelBody,{title:(0,s.__)("Plover: Position","plover"),initialOpen:!1},(0,e.createElement)(a.Tips,{variant:"warning"},(0,e.createElement)("p",null,(0,s.__)("Those properties may break your layout, use them only if you're 100% sure what you're doing.","plover"))),!1!==p&&(0,e.createElement)(a.ResponsiveControl,{title:(0,s.__)("Position","plover"),link:"https://developer.mozilla.org/en-US/docs/Web/CSS/position",Component:t.SelectControl,value:l.cssPosition,onChange:e=>{r({cssPosition:e})},controlProps:{options:[{label:"",value:""},...p?.options||[{label:(0,s.__)("Static (Default)","plover"),value:"static"},{label:(0,s.__)("Relative","plover"),value:"relative"},{label:(0,s.__)("Absolute","plover"),value:"absolute"},{label:(0,s.__)("Sticky","plover"),value:"sticky"},{label:(0,s.__)("Fixed","plover"),value:"fixed"}]]}}),!1!==c&&(0,e.createElement)(a.ResponsiveControl,{title:(0,s.__)("Z-Index","plover"),link:"https://developer.mozilla.org/en-US/docs/Web/CSS/z-index",Component:t.__experimentalNumberControl,value:l.cssZIndex,sanitizer:e=>""===e?e:Number(e),onChange:e=>{r({cssZIndex:e})},controlProps:{step:1}}),(0,e.createElement)(a.ResponsiveControl,{Component:a.BoxControl,devices:!1,value:l.cssPositionedValue,onChange:e=>{r({cssPositionedValue:e})},controlProps:{__next40pxDefaultSize:!1,label:(0,s.__)("Positioned value","plover"),allowReset:!1,inputProps:{}}}),(0,e.createElement)(a.Tips,null,(0,e.createElement)("a",{href:"https://wpplover.com/docs/plover-kit/modules/css-position/",target:"_blank"},(0,s.__)("Documentation â†—","plover")))))}function c(e){const[o,l]=(0,t.__experimentalParseQuantityAndUnitFromRawValue)(e);if(void 0!==o)return l?`${o}${l}`:`${o}px`}(0,o.addFilter)("blocks.registerBlockType","plover/position-attributes",((e,o)=>{const t=(0,n.getPloverSupport)(o,"ploverPosition");if(!t)return e;const l={};return!1!==t?.position&&(l.cssPosition={type:"object"},l.cssPositionedValue={type:"object"}),!1!==t?.zIndex&&(l.cssZIndex={type:"object"}),e.attributes={...e.attributes,...l},e})),(0,o.addFilter)("editor.BlockListBlock","plover/with-block-position-css",(0,l.createHigherOrderComponent)((o=>t=>{var l,i,s,a;const{name:p}=t,u=(0,e.createElement)(o,{...t});if(!(0,n.hasPloverSupport)(p,"ploverPosition"))return u;const[v]=(0,r.useDeviceType)(),d=(0,n.getScalarValueByDevice)(null!==(l=t?.attributes?.cssPosition)&&void 0!==l?l:"",v),m=(0,n.getScalarValueByDevice)(null!==(i=t?.attributes?.cssPositionedValue)&&void 0!==i?i:{},v),P=(0,n.getScalarValueByDevice)(null!==(s=t?.attributes?.cssZIndex)&&void 0!==s?s:"",v),w={};w.top=c(m?.top),w.right=c(m?.right),w.bottom=c(m?.bottom),w.left=c(m?.left),d&&(w.position=d),""!==P&&(w.zIndex=Number(P));const b={...(t={...t,style:{...null!==(a=t.style)&&void 0!==a?a:{},...w}}).wrapperProps,style:{...t.wrapperProps?.style,...w}};return(0,e.createElement)(o,{...t,wrapperProps:b})}),"withBlockPositionCss")),(0,o.addFilter)("editor.BlockEdit","plover/position-controls",(o=>t=>{const{isSelected:l,name:r}=t;return(0,n.hasPloverSupport)(r,"ploverPosition")?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o,{...t}),l&&(0,e.createElement)(p,{...t})):(0,e.createElement)(o,{...t})}),200)})();