(()=>{"use strict";var e={20:(e,t,n)=>{var r=n(609),a=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,n){var r,s={},c=null,m=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(m=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:m,props:s,_owner:i.current}}},848:(e,t,n)=>{e.exports=n(20)},609:e=>{e.exports=window.React}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}var r=n(609);const a=window.wp.hooks,o=window.wp.compose,i=window.wp.element,l=window.plover.utils;function s(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=s(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const c=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=s(e))&&(r&&(r+=" "),r+=t);return r},m=window.wp.blockEditor,p=window.wp.components,u=window.wp.i18n,d=window.wp.primitives;var v=n(848);const f=(0,v.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsx)(d.Path,{d:"M18.7 3H5.3C4 3 3 4 3 5.3v13.4C3 20 4 21 5.3 21h13.4c1.3 0 2.3-1 2.3-2.3V5.3C21 4 20 3 18.7 3zm.8 15.7c0 .4-.4.8-.8.8H5.3c-.4 0-.8-.4-.8-.8V5.3c0-.4.4-.8.8-.8h13.4c.4 0 .8.4.8.8v13.4zM10 15l5-3-5-3v6z"})}),w=window.plover.components;function _({playAnimation:e,attributes:t,setAttributes:n}){var o;const{entranceAnimation:i}=t,s=(null!==(o=(0,l.getCustomBlockSupportConfig)("entranceAnimation",[])?.animations)&&void 0!==o?o:[]).map((e=>({label:e.replaceAll("-"," "),value:e})));return(0,r.createElement)(m.InspectorControls,null,(0,r.createElement)(p.PanelBody,{title:(0,u.__)("Plover: Entrance Animation","plover"),initialOpen:!1},!!i&&(0,r.createElement)(p.Button,{size:"compact",iconSize:24,icon:f,variant:"secondary",onClick:e,style:{marginBottom:"12px"}},(0,u.__)("Preview Animation","plover")),(0,r.createElement)(w.Select,{value:i,label:(0,u.__)("Animation","plover"),displayAsList:!0,options:[{label:"",value:""},...s],onChange:e=>{n({entranceAnimation:e})}}),(0,a.applyFilters)("plover.entranceAnimation.InspectorControls",null,t,n),!(0,l.is_premium)()&&(0,r.createElement)(w.Tips,null,(0,r.createElement)("p",{dangerouslySetInnerHTML:{__html:(0,u.sprintf)(/* translators: %s is the premium text and link. */ /* translators: %s is the premium text and link. */
(0,u.__)("Upgrade to %s for more entrance animations and options.","plover"),'<a href="'+(0,l.upsell_url)()+'" target="_blank">'+(0,u.__)("Premium","plover")+"</a>")}})),(0,r.createElement)(w.Tips,null,(0,r.createElement)("a",{href:"https://wpplover.com/docs/plover-kit/modules/entrance-animation/",target:"_blank"},(0,u.__)("Documentation â†—","plover")))))}const y=e=>{const t=e?.parentElement;return t?"BODY"===t?.tagName?t:y(t):document.body};function E({play:e,attributes:t}){const n=(0,i.useRef)(),{entranceAnimation:a,entranceAnimationDuration:o,entranceAnimationDelay:s}=t;return(0,i.useEffect)((()=>{if(!n?.current)return;const e=(0,l.findElementFromCurrent)(n?.current,"plover-entrance-animated__block");e&&(e=>{var t,n;const{element:r,animation:a,duration:o}=e,i=Number(e.delay),s=y(r),c=["plover-invisible","plover-animated","animated-normal","animated-slow","animated-fast",...null!==(t=(0,l.getCustomBlockSupportConfig)("entranceAnimation",[])?.animations)&&void 0!==t?t:[]],m=(null!==(n=r.className)&&void 0!==n?n:"").split(" ").filter((e=>-1===c.indexOf(e)));r.className=m.join(" "),setTimeout((()=>{s.classList.add("plover-animate-playing"),r.classList.add("plover-animated"),r.classList.add(`animated-${o}`),r.classList.add(a),setTimeout((()=>{r.classList.remove(a),s.classList.remove("plover-animate-playing")}),2e3)}),Math.max(50,isNaN(i)||i<0?0:i))})({element:e,animation:a,duration:o,delay:s})}),[e,n,a,o]),(0,r.createElement)("span",{ref:n,"data-role":"plover-indicator",className:"plover-entrance-animation__editor-indicator"})}const g={entranceAnimation:{type:"string"}};(0,a.addFilter)("blocks.registerBlockType","plover/entrance-animation-attributes",((e,t)=>{var n;if(!(0,l.getPloverSupport)(t,"ploverEntranceAnimation"))return e;const r=null!==(n=(0,l.getCustomBlockSupportConfig)("entranceAnimation",g)?.attributes)&&void 0!==n?n:g;return e.attributes={...e.attributes,...(0,a.applyFilters)("plover.entranceAnimation.attributes",r,{settings:e,name:t})},e})),(0,a.addFilter)("editor.BlockListBlock","plover/with-entrance-animation-classname",(0,o.createHigherOrderComponent)((e=>t=>{const{isSelected:n,name:a,attributes:o}=t;if(!(0,l.hasPloverSupport)(a,"ploverEntranceAnimation"))return(0,r.createElement)(e,{...t});const i={...t?.wrapperProps,className:c(t?.wrapperProps?.className,"plover-entrance-animated__block")};return(0,r.createElement)(e,{...t,wrapperProps:i})}),"withEntranceAnimationClassName")),(0,a.addFilter)("editor.BlockEdit","plover/entrance-animation-controls",(e=>t=>{const{isSelected:n,name:a,attributes:o}=t;if(!(0,l.hasPloverSupport)(a,"ploverEntranceAnimation"))return(0,r.createElement)(e,{...t});const[s,c]=(0,i.useState)(0);return(0,r.createElement)(r.Fragment,null,o?.entranceAnimation?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(e,{...t}),(0,r.createElement)(E,{play:s,...t})):(0,r.createElement)(e,{...t}),n&&(0,r.createElement)(_,{playAnimation:()=>{c(s+1)},...t}))}),99)})();